<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy birth day</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link rel="stylesheet" href="CSS/index.css">

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
    integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
  <div class="wrapper">
    <header class="header">
      <div class="box box1">
        <p>H</p>
      </div>
      <div class="box box2">
        <p>A</p>
      </div>
      <div class="box box3">
        <p>P</p>
      </div>
      <div class="box box4">
        <p>P</p>
      </div>
      <div class="box box5">
        <p>Y</p>
      </div>
      <div class="box box6">
        <p>B</p>
      </div>
      <div class="box box7">
        <p>I</p>
      </div>
      <div class="box box8">
        <p>R</p>
      </div>
      <div class="box box9">
        <p>T</p>
      </div>
      <div class="box box10">
        <p>H</p>
      </div>
      <div class="box box11">
        <p>D</p>
      </div>
      <div class="box box12">
        <p>A</p>
      </div>
      <div class="box box13">
        <p>Y</p>
      </div>
    </header>
    <section class="section">
      <div class="section-top fire">
        <h1 class="">CHÀO MỪNG BẠN ĐÃ TỚI TRANG SINH NHẬT</h1>
      </div>
      <div class="section-left">
        <h4 class="title-instruct">
          Hướng dẫn:<br>
        </h4>
        <div id="square" class="img-avatar">
          <img class="image" id="image1" src="IMG/img1.png">
          <img class="image" id="image2" src="IMG/img2.png">
          <img class="image" id="image3" src="IMG/img3.png">
          <img class="image" id="image3" src="IMG/img4.png">
        </div>
        <script>
          var square = document.getElementById("square");
          var images = document.getElementsByClassName("image");

          for (var i = 0; i < images.length; i++) {
            var image = images[i];
            image.style.left = getRandomPosition(0, square.offsetWidth - image.offsetWidth) + "px";
            image.style.top = getRandomPosition(0, square.offsetHeight - image.offsetHeight) + "px";

            moveImage(image);
          }

          function getRandomPosition(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
          }

          function moveImage(image) {
            var x = getRandomPosition(0, square.offsetWidth - image.offsetWidth);
            var y = getRandomPosition(0, square.offsetHeight - image.offsetHeight);

            var dx = getRandomPosition(1, 3);
            var dy = getRandomPosition(1, 3);

            setInterval(function () {
              if (parseInt(image.style.left) + dx > square.offsetWidth - image.offsetWidth || parseInt(image.style.left) + dx < 0)
                dx = -dx;
              if (parseInt(image.style.top) + dy > square.offsetHeight - image.offsetHeight || parseInt(image.style.top) + dy < 0)
                dy = -dy;

              image.style.left = parseInt(image.style.left) + dx + "px";
              image.style.top = parseInt(image.style.top) + dy + "px";
            }, 30);
          }

          square.addEventListener("click", function (event) {
            var clickedX = event.clientX - square.offsetLeft;
            var clickedY = event.clientY - square.offsetTop;

            for (var i = 0; i < images.length; i++) {
              var image = images[i];

              if (clickedX >= parseInt(image.style.left) && clickedX <= parseInt(image.style.left) + image.offsetWidth &&
                clickedY >= parseInt(image.style.top) && clickedY <= parseInt(image.style.top) + image.offsetHeight) {
                reverseDirection(image);
              }
            }
          });

          function reverseDirection(image) {
            var dx = parseInt(image.style.left) > square.offsetWidth / 2 ? -1 : 1;
            var dy = parseInt(image.style.top) > square.offsetHeight / 2 ? -1 : 1;

            setInterval(function () {
              if (parseInt(image.style.left) + dx > square.offsetWidth - image.offsetWidth || parseInt(image.style.left) + dx < 0)
                dx = -dx;
              if (parseInt(image.style.top) + dy > square.offsetHeight - image.offsetHeight || parseInt(image.style.top) + dy < 0)
                dy = -dy;

              image.style.left = parseInt(image.style.left) + dx + "px";
              image.style.top = parseInt(image.style.top) + dy + "px";
            }, 30);
          }
        </script>
        <p class="title-note">
          1.Nhấn vào hình chú mèo có các biểu tượng tương ứng<br>
          VD:Mèo không có gì là lời chúc<br>
          2.Ở mèo hộp quà, 1 số con sẽ không có quà,<br>
          khi bạn nhấn vào, nó sẽ chạy đi.<br>
        </p>
        <audio id="nhac" src="MEDIA/happy.mp3" autoplay muted></audio>

        <button style="width: 30%; height: 30px; position: relative; top: 0px; left: 100px; padding: 3px;
        border-radius: 5px; background-color: #FF4500;" onclick="toggleAudio()" class="btn-toggle">
          <i class='fas fa-play' style='font-size:14px;color:rgba(28, 103, 241, 0.74);margin-right: 6px;'></i>
          Phát/Dừng nhạc
        </button>

        <script>
          var audio = document.getElementById('nhac');

          // Tự động bật tiếng sau khi trang tải
          window.addEventListener('load', function () {
            audio.muted = false;
            audio.play().catch(error => console.log("Trình duyệt chặn autoplay:", error));
          });

          function toggleAudio() {
            if (audio.paused) {
              audio.play();
            } else {
              audio.pause();
            }
          }
        </script>
      </div>
      <div class="section-right">
        <a href="#" data-bs-toggle="modal" data-bs-target="#anhchucsn"><img class="anh" id="anh5" src="IMG/chucsn.png"
            alt=""></a>
        <a href="#" data-bs-toggle="modal" data-bs-target="#anhbanh"><img class="anh" id="anh4" src="IMG/banh.jpg"
            alt=""></a>
        <img class="anh" id="anh1" src="IMG/qua1.jpg" alt="" onclick="moveImage(this)">
        <a href="#" data-bs-toggle="modal" data-bs-target="#anhqua"><img class="anh" id="anh3" src="IMG/qua3.jpg"
            alt=""></a>
        <img class="anh" id="anh2" src="IMG/qua2.jpg" alt="" onclick="moveImage(this)">
        <img class="anhsao anhstart" id="s1" src="IMG/start.jpg" alt="">
        <img class="anhsao anhstart" id="s2" src="IMG/start.jpg" alt="">
        <img class="anhsao anhstart" id="s3" src="IMG/start.jpg" alt="">
        <img class="anhsao anhstart" id="s4" src="IMG/start.jpg" alt="">
        <img class="anhsao anhstart" id="s5" src="IMG/start.jpg" alt="">
        <img class="anhsao anhstart" id="s6" src="IMG/start.jpg" alt="">
        <script>
          function moveImage(anh) {
            // Lấy phần tử section-right
            var sectionRight = document.querySelector('.section-right');

            // Lấy chiều rộng và chiều cao của section-right
            var sectionWidth = sectionRight.offsetWidth;
            var sectionHeight = sectionRight.offsetHeight;

            // Tạo giá trị ngẫu nhiên cho vị trí mới của ảnh trong phạm vi của section-right
            var newTop = Math.floor(Math.random() * (sectionHeight - anh.offsetHeight)); // Đảm bảo ảnh không vượt quá chiều cao container
            var newLeft = Math.floor(Math.random() * (sectionWidth - anh.offsetWidth)); // Đảm bảo ảnh không vượt quá chiều rộng container

            // Di chuyển ảnh đến vị trí mới
            anh.style.position = 'absolute'; // Đặt ảnh ở chế độ absolute để có thể thay đổi vị trí
            anh.style.top = newTop + 'px';
            anh.style.left = newLeft + 'px';
          }
        </script>

        <!--modal anh qua-->
        <div class="modal fade" id="anhqua" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">HỘP QUÀ</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div style="display: flex;" class="modal-body">
                <img style="display: block;" class="anhmodal" src="IMG/momo.png" alt="hopqua">
                <h4 style="padding-left: 20px;">Tìm thấy được hộp quà rồi à, giờ lấy điện thoại quét QR
                  MoMo nha, pass là ngày sinh, tháng sinh, năm sinh của ai đó cho ý nghĩa, để xem
                 ai đó may mắn nhiều nhiều cỡ nào nha.<br> <br>
                  
                </h4>
              </div>
            </div>
          </div>
        </div>
        <!--modal anh banh-->
        <div class="modal fade" id="anhbanh" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">BÁNH KEM</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <div id="banh-container">
                  <img class="anhmodal" id="banhsn1" src="IMG/sn1.jpg" alt="banh1">
                  <img class="anhmodal" id="banhsn2" src="IMG/sn2.jpg" alt="banh2" style="display: none;">
                </div>
                <button class="btn btn-primary" id="thoinen">Thổi nến</button>
                <button class="btn btn-primary" id="batnen">Bật nến</button>
              </div>
            </div>
          </div>
        </div>
        <script>
          //modal anh banh
          function thoi() {
            // Thay đổi ảnh và hiển thị ngôi sao
            document.getElementById("banhsn1").style.display = "none";
            document.getElementById("banhsn2").style.display = "block";
          }

          function bat() {
            // Thay đổi ảnh và ẩn ngôi sao
            document.getElementById("banhsn2").style.display = "none";
            document.getElementById("banhsn1").style.display = "block";
          }

          // Lắng nghe sự kiện click trên nút "Thổi nến"
          var thoinenBtn = document.getElementById("thoinen");
          thoinenBtn.addEventListener("click", thoi);

          // Lắng nghe sự kiện click trên nút "Bật nến"
          var batnenBtn = document.getElementById("batnen");
          batnenBtn.addEventListener("click", bat);    
        </script>
        <!--modal anh loi chuc-->
        <div class="modal fade" id="anhchucsn" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">LỜI CHÚC SINH NHẬT</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <p>
                  Qua tuổi mới, chúc ai đó luôn vui vẻ, năng động, ngày càng xinh đẹp và trên hết trên phương diện học
                  tập luôn đạt được kết quả tốt cũng như trong cuộc sống hãy cố gắng hết mình để có nhiều thành công
                  hơn.<br>
                  Hãy sống hết mình khi còn là sinh viên nha.<br><br>
                <h4><b>Người viết</b></h4>
                <p>Đố biết người viết</p>
                </p>
              </div>
            </div>
          </div>
        </div>

      </div>
    </section>
    <footer class="footer">
      <p>WEBSIZE "CHƯA CÓ TÊN" CHÚC ai đó CÓ 1 NGÀY SINH NHẬT THẬT LÀ Ý NGHĨA CHO CHÍNH BẢN THÂN MÌNH.</p>
    </footer>
  </div>
</body>

</html>